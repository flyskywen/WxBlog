<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>局部组件</title>
    <style>
        .box {
            width: 200px;
            text-align: center;
            border: 1px solid black;
            border-radius: 10px;
            overflow: hidden;
            float: left;
        }

        .box img {
            width: 100%;
        }

        .box p {
            margin: 0;
        }

        .box span:hover {
            cursor: pointer;
            color: orange;
        }
    </style>
</head>

<body>
    <div id="app">
        <!--<div class="box">-->
        <!--<img src="http://a.hiphotos.baidu.com/image/h%3D300/sign=e543b919a151f3dedcb2bf64a4eff0ec/4610b912c8fcc3cebba8b8e09c45d688d53f20fc.jpg" alt="">-->
        <!--<p>野兽</p>-->
        <!--</div>-->

        <!--        <box></box>-->
        <!--        <box></box>-->

        <box-tag></box-tag>
        <box-tag></box-tag>

        <!--
        问题：数据 父组件 => 子组件
        父组件根据数组数据(box_data)渲染多个子组件，遍历得到的数据(box_obj)是渲染子组件的，
        如何将遍历的数据传递给子组件
        -->
        <div style="clear: both">
            <box-tag v-for="box_obj in box_data"></box-tag>
        </div>
    </div>
</body>
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>

<script>
    // 创建局部组件 => 在根组件中注册 => 解析{}中的vue语法 =>渲染局部组件
    let box = {
        template: `
        <div class="box">
            <img src="img/001.jpg" alt="">
            <p>
                <span @click="btnClick">点击了{{ num }}下</span>
                <p>野兽</p>
            </p>
        </div>
        `,
        // data: {  // 错误的
        //     num: 0
        // },
        // data: function () {  // 每个复用的子组件都应该有自己的一套数据，所以要用一个局部作用域存储，保证数据的隔离性
        //     return {  // data的值还是字典，所以函数的返回值是字典即可
        //         num: 0
        //     }
        // },
        data() {
            return {
                num: 0
            }
        },
        methods: {
            btnClick() {
                // alert(123)
                this.num += 1;
            }
        }
    };

    new Vue({
        el: '#app',
        // 2在根组件中注册局部组件
        components: {
            // box,  // key与value变量同名
            boxTag: box, // js支持的驼峰命名法与html的-连接有语法对应
            // 'box-tag': box,
        },
        data: {
            box_data: [1, 2, 2, 3, 3, 3]
        }

    })
</script>

</html>